---
layout: post
title: "[原创]Mac-os-pip-install-error--Operation-not-permitted"
date: 2017-03-20 14:48:57
image: '/assets/img/'
description: ""
tags:
    - 
categories:
    - MacBoox-OSX
---



<div id="sina_keyword_ad_area2" class="articalContent newfont_family"><div><div style="line-height:21px;">用pip 更新 numpy, 提示: Operation notpermitted</div><div style="line-height:21px;">解决办法:  </div><span style="line-height:21px;">  1. </span><span style="line-height:21px;"><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);">pipinstall --upgrade </span><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);">--</span><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);">ignore</span><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);">-</span><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);">installednumpy</span></span><br style="line-height:21px;" /><span style="line-height:21px;">  2. </span><span style="line-height:21px;"><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);">pipinstall --upgrade </span><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);">--user</span><span style="font-size:13px;border:0px;color:rgb(48,51,54);background-color:rgb(239,240,241);"> numpy</span></span><div style="line-height:21px;"><br /></div><div style="line-height:21px;">原因: 是因为os(El Capitan)中加入了新的安全机制SIP(<span>System IntegrityProtection</span>)</div><div style="line-height:21px;">也可以在重启机器的时候command +r 进入恢复模式, 执行csrutil disable 关闭SIP. (不建议)</div><div style="line-height:21px;"><span style="line-height:21px;"><br /></span></div><div><div>Anyone can respond to this issue however they want, (playingchicken with Apple over this is like waiting for an updated versionof rsync, in my opinion...) but if you're coming to this threadnow, just know that you can work around this issueby: </div><div>1. installing with pip to your user folder *</div><div>2. installing with pip and --ignoring-installed *</div><div>3. using a virtualenv</div><div>4. installing your own python, e.g. with homebrew</div><div><br /></div><div>And after all of those options? Sure, you can TEMPORARILYdisable SIP during the time you pip upgrade something in the Systemfolder, but then you're also messing with the version Apple expectsto be present. You can even "at your own risk etc. etc." disable,reboot, then enable --without fs to permanently stop just thefilesystem protections. But I don't think you should get used toemploying SIP-related fixes for python package installs, ifanything the SIP-disabling options will go away, not get morelenient, so dealing with this new situation sooner rather thanlater seems wise.</div><div><br /></div><div>* also then possibly requiring you to employ a .pth file toensure python picks up on your desired lookup order, as previouslymentioned about sys.path</div></div><div style="line-height:21px;"><span style="line-height:21px;"><br /></span></div><div style="line-height:21px;"><span style="line-height:21px;">参考: </span></div><div style="line-height:21px;">1. <a href="http://xiaorui.cc/2016/03/27/%E8%A7%A3%E5%86%B3mac-osx%E4%B8%8Bpip%E5%AE%89%E8%A3%85ipython%E6%9D%83%E9%99%90%E7%9A%84%E9%97%AE%E9%A2%98/">解决macosx下pip安装ipython权限的问题</a></div><div style="line-height:21px;">2. <a href="http://stackoverflow.com/questions/31900008/oserror-errno-1-operation-not-permitted-when-installing-scrapy-in-osx-10-11">“OSError: [Errno 1]Operation not permitted” when installing Scrapy in OSX 10.11 (ElCapitan) (System Integrity Protection)</a></div><div style="line-height:21px;">3. <a href="https://github.com/pypa/pip/issues/3165">Six issue when installing package</a></div><div style="line-height:21px;"><br /></div></div><div style="line-height:21px;"></div></div>